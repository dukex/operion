{
  "id": "bitcoin-price",
  "name": "Bitcoin Price",
  "description": "This is a sample workflow to demonstrate the structure and content of a JSON file for workflows.",
  "nodes": [
    {
      "id": "3c18ab9e-a291-4e1a-b8fd-e3a02299d8ce",
      "name": "Scheduled Trigger",
      "type": "trigger:scheduler",
      "category": "trigger",
      "config": {
        "cron_expression": "*/1 * * * *",
        "timezone": "UTC"
      },
      "source_id": "scheduler-bitcoin-price",
      "provider_id": "scheduler",
      "event_type": "schedule_due",
      "position_x": 50,
      "position_y": 100,
      "enabled": true
    },
    {
      "id": "c90f6195-d6fb-4519-803d-cf32f5f86c48",
      "type": "httprequest",
      "category": "action",
      "config": {
        "url": "https://api.coinpaprika.com/v1/coins/btc-bitcoin/ohlcv/today",
        "method": "GET",
        "headers": {
          "Content-Type": "application/json"
        },
        "retries": {
          "attempts": 3,
          "delay": 5000
        }
      },
      "position_x": 100,
      "position_y": 100,
      "name": "Fetch Bitcoin Data",
      "enabled": true
    },
    {
      "id": "8de00551-e4de-48bf-aeff-21d394c86a9e",
      "type": "transform",
      "category": "action",
      "config": {
        "expression": "{{ $data := index .node_results \"c90f6195-d6fb-4519-803d-cf32f5f86c48\" }}{{ $json := $data.json }}{{ if $json.close }}{{ $json.close }}{{ else }}{{ $json.open }}{{ end }}"
      },
      "position_x": 300,
      "position_y": 100,
      "name": "Extract Bitcoin Price",
      "enabled": true
    },
    {
      "id": "8866978c-806e-468e-a1f6-d03fa418b238",
      "type": "httprequest",
      "category": "action",
      "config": {
        "url": "https://test-operion.free.beeceptor.com/bitcoin",
        "method": "POST",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{{ $transform := index .node_results \"8de00551-e4de-48bf-aeff-21d394c86a9e\" }}{\"price\": {{ $transform.result }}}",
        "retries": {
          "attempts": 3,
          "delay": 5000
        }
      },
      "position_x": 500,
      "position_y": 100,
      "name": "Save Bitcoin Price",
      "enabled": true
    },
    {
      "id": "temp_l7oaen33g",
      "type": "log",
      "category": "action",
      "config": {
        "message": "Workflow step failed",
        "level": "error"
      },
      "position_x": 300,
      "position_y": 300,
      "name": "Log Error",
      "enabled": true
    }
  ],
  "connections": [
    {
      "id": "trigger-to-fetch",
      "source_port": "3c18ab9e-a291-4e1a-b8fd-e3a02299d8ce:success",
      "target_port": "c90f6195-d6fb-4519-803d-cf32f5f86c48:main"
    },
    {
      "id": "fetch-to-extract",
      "source_port": "c90f6195-d6fb-4519-803d-cf32f5f86c48:success",
      "target_port": "8de00551-e4de-48bf-aeff-21d394c86a9e:main"
    },
    {
      "id": "extract-to-save",
      "source_port": "8de00551-e4de-48bf-aeff-21d394c86a9e:success",
      "target_port": "8866978c-806e-468e-a1f6-d03fa418b238:main"
    },
    {
      "id": "fetch-error",
      "source_port": "c90f6195-d6fb-4519-803d-cf32f5f86c48:error",
      "target_port": "temp_l7oaen33g:main"
    },
    {
      "id": "save-error",
      "source_port": "8866978c-806e-468e-a1f6-d03fa418b238:error",
      "target_port": "temp_l7oaen33g:main"
    }
  ],
  "variables": {},
  "status": "published",
  "workflow_group_id": "bitcoin-price",
  "published_at": "2023-10-01T00:00:00Z",
  "metadata": {
    "tags": [
      "sample",
      "bitcoin",
      "api"
    ]
  },
  "owner": "",
  "created_at": "2023-10-01T00:00:00Z",
  "updated_at": "2025-06-17T15:36:04.169618-03:00"
}